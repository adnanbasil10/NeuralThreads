================================================================================
NEURAL THREADS - LANDING PAGE COMPLETE DOCUMENTATION
================================================================================

This document provides a comprehensive breakdown of all functions, interactions,
API endpoints, authentication flows, and database schema relationships for the
Neural Threads landing page and its integration with the entire application.

================================================================================
1. LANDING PAGE STRUCTURE & COMPONENTS
================================================================================

FILE: src/app/page.tsx
TYPE: Client Component (Next.js 15 App Router)

1.1 NAVIGATION BAR
------------------
Location: Fixed at top of page (z-index: 50)
State Management:
  - isScrolled: Boolean - Tracks scroll position (>20px)
  - selectedLang: Object - Current language selection
  - isLangOpen: Boolean - Language dropdown visibility
  - isMobileMenuOpen: Boolean - Mobile menu visibility

Components:
  a) Logo Section
     - Link to "/" (homepage)
     - Sparkles icon in warm-taupe background
     - "Neural Threads" text (serif font)
     - "Cognitive Couture" tagline (uppercase, tracking-widest)

  b) Desktop Navigation (hidden on mobile, visible lg:flex)
     - Language Selector Dropdown
       * 5 languages: English, Hindi, Kannada, Tamil, Telugu
       * Flag emojis for visual identification
       * Dropdown with fade-up animation
       * State: isLangOpen controls visibility
     
     - Sign In Link
       * Route: /login
       * Text: "Sign In"
       * Styling: text-stone-700 hover:text-stone-900
     
     - Get Started Button
       * Route: /signup
       * Text: "Get Started"
       * Styling: bg-stone-900 text-white rounded-full

  c) Mobile Menu Button
     - Toggle: isMobileMenuOpen
     - Icons: Menu (closed) / X (open)
     - Visible only on mobile (lg:hidden)

  d) Mobile Menu (conditional rendering)
     - Language Selection Grid
       * All 5 languages as buttons
       * Selected language highlighted
     
     - Sign In Link (full width)
     - Get Started Button (full width, rounded-full)

Scroll Behavior:
  - On scroll > 20px: Navbar changes to bg-white/95 with backdrop-blur
  - Border-bottom appears: border-stone-200
  - Smooth transition: duration-300

1.2 HERO SECTION
----------------
Background: Gradient from-warm-light via-stone-50 to-warm-apricot/30
Decorative Elements: Blurred circles (warm-apricot, warm-coral)

Content:
  a) Left Column (Text Content)
     - Badge: "The Future of Fashion is Here" (with Sparkles icon)
     - Main Heading: "Where Creativity Meets Craftsmanship"
       * Font: Serif, 6xl-7xl
       * Mix of stone-400 and stone-900 colors
       * Italic styling on "Creativity"
     
     - Subtitle: Description of platform value proposition
     
     - Action Buttons:
       * "Begin Your Journey" → /signup
         - Primary CTA: bg-stone-900, white text, rounded-full
         - Includes ArrowRight icon
       
       * "Explore Collections" → /designers
         - Secondary CTA: border-2 border-stone-400
     
     - Statistics Section:
       * 500+ Verified Designers
       * 200+ Expert Tailors
       * 50k+ Designs Created
       * Displayed with warm-rose and warm-taupe colors

  b) Right Column (Visual Card)
     - White card with rounded-3xl
     - Shows active users count (2.5k+ Active)
     - Verified badge with checkmark
     - Central icon: Sparkles in gradient background
     - Text: "Fashion Reimagined" / "AI-Powered Style"
     - Background gradient decoration

1.3 FEATURES SECTION
--------------------
Background: bg-white
Layout: 3x2 grid (md:grid-cols-2 lg:grid-cols-3)

Features Array (6 items):
  1. Elite Designers
     - Icon: Users
     - Gradient: from-warm-coral to-warm-rose
     - Description: Connect with verified fashion designers

  2. Master Tailors
     - Icon: Scissors
     - Gradient: from-warm-rose to-warm-taupe
     - Description: Find skilled tailors in your area

  3. Real-Time Chat
     - Icon: MessageCircle
     - Gradient: from-warm-apricot to-warm-coral
     - Description: Communicate directly with designers and tailors
     - Special Styling: bg-gradient-to-br from-rose-50 to-rose-100/50
     - Border: border-rose-200

  4. AI Stylist
     - Icon: Sparkles
     - Gradient: from-warm-taupe to-warm-rose
     - Description: Get personalized style recommendations

  5. Multilingual
     - Icon: Globe
     - Gradient: from-warm-rose to-warm-coral
     - Description: Support for multiple languages

  6. Secure & Verified
     - Icon: Shield
     - Gradient: from-warm-coral to-warm-taupe
     - Description: Verified professionals, secure transactions

Each feature card:
  - Hover effect: shadow-xl, scale transform on icon
  - Border: border-stone-200
  - Padding: p-8
  - Rounded: rounded-3xl

1.4 DESIGNER SPOTLIGHT SECTION
------------------------------
Background: bg-stone-50
Layout: 3-column grid (md:grid-cols-2 lg:grid-cols-3)

Designers Array (3 sample designers):
  - Priya Mehta (Bridal Couture)
  - Arjun Reddy (Contemporary Casual)
  - Ananya Singh (Fusion Wear)

Each Designer Card:
  - Gradient header (unique per designer)
  - Initials badge (top-left)
  - Verified checkmark (top-right)
  - Name, specialty, rating, experience
  - Location with MapPin icon
  - Design count
  - "Start Conversation" button (currently non-functional, placeholder)

Footer Link:
  - "View All Designers" → /designers
  - Includes ArrowRight icon

1.5 CTA SECTION
---------------
Background: Gradient from-amber-100 via-stone-100 to-rose-100
Decorative Elements: Blurred circles (amber-200, rose-200)

Content:
  - Heading: "Ready to Transform Your Wardrobe?"
  - Subtitle: Join thousands of fashion enthusiasts
  - Primary CTA Button:
    * Text: "Create Your Account - It's Free"
    * Route: /signup
    * Styling: bg-white, shadow-2xl, hover:scale-105
    * Includes ArrowRight icon
  - Fine Print: "No credit card required • Setup in 2 minutes"

1.6 FOOTER
----------
Background: bg-stone-900 (dark)
Text Color: text-white

Layout: 4-column grid (md:grid-cols-2 lg:grid-cols-4)

Sections:
  a) Brand Section
     - Logo with Sparkles icon
     - "Neural Threads" text
     - Description text

  b) Platform Links
     - About Us → /about
     - Designers → /designers
     - Tailors → /tailors

  c) Legal Links
     - Privacy Policy → /privacy
     - Terms of Service → /terms
     - Contact → /contact

  d) Newsletter Signup
     - Email input field
     - Submit button with ArrowRight icon
     - Currently non-functional (placeholder)

Footer Bottom:
  - Copyright: © {currentYear} Neural Threads. All rights reserved.
  - Border-top: border-stone-800

================================================================================
2. NAVIGATION & ROUTING FLOW
================================================================================

2.1 PUBLIC ROUTES (No Authentication Required)
----------------------------------------------
  / (Landing Page)
    - Accessible to all users
    - No middleware protection
    - Can navigate to /login or /signup

  /designers
    - Public designer listing page
    - No authentication required
    - Can view designer profiles

  /tailors
    - Public tailor listing page
    - No authentication required

  /about, /privacy, /terms, /contact
    - Static informational pages
    - No authentication required

2.2 AUTHENTICATION ROUTES
--------------------------
  /login
    - Login page for existing users
    - Middleware: Redirects to dashboard if already authenticated
    - Redirects to /signup if user wants to create account

  /signup
    - Role selection page
    - Shows 3 options: Customer, Designer, Tailor
    - Each option links to role-specific signup:
      * /signup/customer
      * /signup/designer
      * /signup/tailor

2.3 PROTECTED ROUTES (Require Authentication)
---------------------------------------------
  /customer/*
    - Customer dashboard and all customer pages
    - Middleware: Redirects to /login if not authenticated
    - Role check: Only CUSTOMER role can access

  /designer/*
    - Designer dashboard and all designer pages
    - Middleware: Redirects to /login if not authenticated
    - Role check: Only DESIGNER role can access

  /tailor/*
    - Tailor dashboard and all tailor pages
    - Middleware: Redirects to /login if not authenticated
    - Role check: Only TAILOR role can access

2.4 MIDDLEWARE BEHAVIOR
-----------------------
FILE: src/middleware.ts

Protected Routes Array:
  ["/customer", "/designer", "/tailor"]

Auth Routes Array:
  ["/login", "/signup"]

Role Dashboard Mapping:
  {
    CUSTOMER: "/customer",
    DESIGNER: "/designer",
    TAILOR: "/tailor"
  }

Middleware Logic:
  1. Early Return: Static assets, API routes, file extensions bypass auth
  2. Token Verification: Extracts JWT from 'auth_token' cookie
  3. Protected Route Check:
     - If protected route AND no user → Redirect to /login?redirect={pathname}
     - Prevents redirect loops
  4. Auth Route Check:
     - If auth route AND user exists → Redirect to role-based dashboard
     - Prevents authenticated users from accessing login/signup
  5. Role-Based Access Control:
     - If user on protected route → Verify role matches route
     - CUSTOMER cannot access /designer or /tailor routes
     - DESIGNER cannot access /customer or /tailor routes
     - TAILOR cannot access /customer or /designer routes
  6. Cache Headers:
     - Sets no-cache headers for protected and auth routes
     - Prevents browser caching of sensitive pages

================================================================================
3. AUTHENTICATION FLOW
================================================================================

3.1 SIGNUP FLOW
---------------

Step 1: Landing Page → Signup Selection
  - User clicks "Get Started" or "Sign up" link
  - Navigates to: /signup
  - FILE: src/app/(auth)/signup/page.tsx
  - Displays 3 role cards: Customer, Designer, Tailor
  - Each card links to role-specific signup page

Step 2: Role Selection → Role-Specific Signup
  - Customer: /signup/customer
  - Designer: /signup/designer
  - Tailor: /signup/tailor

Step 3: Fill Signup Form
  - Multi-step forms with validation
  - CSRF token required
  - Password strength validation
  - Email validation
  - Role-specific fields:
    
    Customer Fields:
      - name, email, password, confirmPassword
      - age, gender, location, languagePreference
      - bodyShape, stylePreferences (array)
      - budgetMin, budgetMax
    
    Designer Fields:
      - name, email, password, confirmPassword
      - designerLocation, yearsExperience
      - designNiches (array), bio
      - languages (array)
      - contactPhone, contactEmail
      - profilePhoto (image upload)
    
    Tailor Fields:
      - name, email, password, confirmPassword
      - tailorLocation, latitude, longitude
      - yearsExperience, skills (array)
      - contactPhone, contactEmail

Step 4: Submit Signup Form
  - API Endpoint: POST /api/auth/signup
  - FILE: src/app/api/auth/signup/route.ts
  - Request Body: Role-specific data
  - Headers: x-csrf-token (required)
  - Rate Limiting: signupLimiter (prevents abuse)

Step 5: API Processing
  - CSRF Token Validation
  - Rate Limit Check
  - Input Sanitization & Validation
  - Email Uniqueness Check
  - Password Hashing (bcrypt)
  - Database Transaction:
    * Create User record
    * Create role-specific profile (Customer/Designer/Tailor)
    * Set isEmailVerified = true (immediate verification)
  - Response: { success: true, data: { user, profile } }

Step 6: Post-Signup Redirect
  - After successful signup, user is redirected to /login
  - User must login with credentials
  - No automatic login after signup

3.2 LOGIN FLOW
--------------

Step 1: Landing Page → Login
  - User clicks "Sign In" link
  - Navigates to: /login
  - FILE: src/app/(auth)/login/page.tsx
  - If already authenticated → Middleware redirects to dashboard

Step 2: Fill Login Form
  - Email input (validated)
  - Password input (show/hide toggle)
  - Remember Me checkbox (future feature)
  - CSRF token fetched automatically

Step 3: Submit Login Form
  - API Endpoint: POST /api/auth/login
  - FILE: src/app/api/auth/login/route.ts
  - Request Body: { email, password }
  - Headers: x-csrf-token (required)
  - Rate Limiting: loginLimiter (5 attempts per 15 minutes)

Step 4: API Processing
  - CSRF Token Validation
  - Rate Limit Check
  - Email Sanitization & Validation
  - Database Query: Find user by email
    * Includes: customer, designer, tailor relations
  - Password Verification (bcrypt compare)
  - JWT Token Generation:
    * Access Token (7 days expiry)
    * Refresh Token (30 days expiry)
  - Cookie Setting:
    * auth_token (HTTP-only, secure, sameSite: 'lax')
    * auth_refresh (HTTP-only, secure, sameSite: 'strict')
  - Response: { success: true, data: { user, profile, redirectTo } }

Step 5: Client-Side Redirect
  - Extract user role from response
  - Map role to dashboard:
    * CUSTOMER → /customer
    * DESIGNER → /designer
    * TAILOR → /tailor
  - router.refresh() to update server state
  - window.location.href = dashboard (hard redirect)
  - Delay: 100ms to ensure cookies are set

Step 6: Dashboard Access
  - Middleware verifies JWT token
  - Role-based access control enforced
  - User sees role-specific dashboard

3.3 LOGOUT FLOW
---------------
  - API Endpoint: POST /api/auth/logout
  - FILE: src/app/api/auth/logout/route.ts
  - Clears auth_token and auth_refresh cookies
  - Redirects to: /login

3.4 TOKEN REFRESH FLOW
----------------------
  - API Endpoint: POST /api/auth/refresh
  - FILE: src/app/api/auth/refresh/route.ts
  - Uses refresh token to generate new access token
  - Updates auth_token cookie
  - Prevents session expiration

================================================================================
4. API ENDPOINTS
================================================================================

4.1 AUTHENTICATION APIs
------------------------

POST /api/auth/signup
  Purpose: Create new user account
  Authentication: None (public endpoint)
  CSRF Protection: Required (x-csrf-token header)
  Rate Limiting: signupLimiter
  Request Body: Role-specific signup data
  Response:
    Success: { success: true, data: { user, profile } }
    Error: { success: false, error: string, code?: string }
  Status Codes:
    200: Success
    400: Validation error
    403: CSRF token invalid
    429: Rate limit exceeded
    500: Server error

POST /api/auth/login
  Purpose: Authenticate user and create session
  Authentication: None (public endpoint)
  CSRF Protection: Required (x-csrf-token header)
  Rate Limiting: loginLimiter (5 attempts/15min)
  Request Body: { email: string, password: string }
  Response:
    Success: { success: true, data: { user, profile, redirectTo } }
    Error: { success: false, error: string, code?: string }
  Cookies Set:
    - auth_token (JWT access token, 7 days)
    - auth_refresh (JWT refresh token, 30 days)
  Status Codes:
    200: Success
    400: Validation error
    401: Invalid credentials
    403: CSRF token invalid
    429: Rate limit exceeded
    500: Server error

POST /api/auth/logout
  Purpose: End user session
  Authentication: Optional (works without auth)
  CSRF Protection: Not required
  Response:
    Success: { success: true, message: "Logged out successfully" }
  Cookies Cleared:
    - auth_token
    - auth_refresh
  Status Codes:
    200: Success

POST /api/auth/refresh
  Purpose: Refresh access token using refresh token
  Authentication: Refresh token in cookie
  CSRF Protection: Not required
  Response:
    Success: { success: true, data: { token } }
    Error: { success: false, error: string }
  Status Codes:
    200: Success
    401: Invalid refresh token
    500: Server error

GET /api/auth/me
  Purpose: Get current authenticated user data
  Authentication: Required (JWT token in cookie)
  CSRF Protection: Not required
  Response:
    Success: { success: true, data: { user, profile } }
    Error: { success: false, error: string }
  Status Codes:
    200: Success
    401: Not authenticated
    500: Server error

GET /api/csrf-token
  Purpose: Get CSRF token for form submissions
  Authentication: None (public endpoint)
  CSRF Protection: Not required
  Response:
    Success: { success: true, token: string }
  Cookie Set:
    - csrf_token (HTTP-only, secure, sameSite: 'lax')
  Status Codes:
    200: Success
    500: Server error

4.2 PUBLIC APIs (Accessible from Landing Page)
-----------------------------------------------

GET /api/designers
  Purpose: Fetch public designer listings
  Authentication: None
  Query Parameters:
    - location?: string
    - niche?: string
    - experience?: number
    - languages?: string[]
    - rating?: number
    - search?: string
    - page?: number
    - limit?: number
  Response:
    Success: { success: true, data: { designers, pagination } }
  Status Codes:
    200: Success
    400: Invalid query parameters
    500: Server error

GET /api/tailors
  Purpose: Fetch public tailor listings
  Authentication: None
  Query Parameters:
    - latitude?: number
    - longitude?: number
    - radius?: number (in kilometers)
    - skills?: string[]
    - experience?: number
    - search?: string
    - page?: number
    - limit?: number
  Response:
    Success: { success: true, data: { tailors, pagination } }
  Status Codes:
    200: Success
    400: Invalid query parameters
    500: Server error

================================================================================
5. DATABASE SCHEMA INTERACTIONS
================================================================================

5.1 USER MODEL (Prisma Schema)
--------------------------------
FILE: prisma/schema.prisma

Model User {
  id              String   @id @default(cuid())
  email           String   @unique
  password        String?
  name            String?
  role            UserRole
  age             Int?
  gender          Gender?
  isEmailVerified Boolean  @default(true) // Immediate verification
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt

  // Relations
  customer        Customer?
  designer        Designer?
  tailor          Tailor?
  chats           Chat[]   // User's chat conversations
  sentMessages    Message[] @relation("MessageSender")
  receivedMessages Message[] @relation("MessageReceiver")
  wardrobe        WardrobeItem[]
  messageReactions MessageReaction[]
}

Enum UserRole {
  CUSTOMER
  DESIGNER
  TAILOR
}

5.2 CUSTOMER MODEL
------------------
Model Customer {
  id                String   @id @default(cuid())
  userId            String   @unique
  user              User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  location          Location?
  languagePreference Language?
  bodyShape         BodyShape?
  stylePreferences  String[]
  budgetMin         Float?
  budgetMax         Float?
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt
}

5.3 DESIGNER MODEL
------------------
Model Designer {
  id              String      @id @default(cuid())
  userId          String      @unique
  user            User        @relation(fields: [userId], references: [id], onDelete: Cascade)
  location        String?
  yearsExperience Int?
  designNiches    DesignNiche[]
  bio             String?
  languages       Language[]
  contactPhone    String?
  contactEmail    String?
  profilePhoto    String?
  portfolio       PortfolioItem[]
  createdAt       DateTime    @default(now())
  updatedAt       DateTime    @updatedAt
}

5.4 TAILOR MODEL
----------------
Model Tailor {
  id              String   @id @default(cuid())
  userId          String   @unique
  user            User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  location        String?
  latitude        Float?
  longitude        Float?
  locationPoint   Geography(Point, 4326)? // PostGIS for distance queries
  yearsExperience Int?
  skills          String[]
  contactPhone    String?
  contactEmail    String?
  sampleWork      SampleWork[]
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
}

5.5 SIGNUP PROCESS - DATABASE OPERATIONS
----------------------------------------
When user signs up:

1. Transaction Start
2. Create User Record:
   - email (unique constraint check)
   - password (hashed with bcrypt)
   - name, role, age, gender
   - isEmailVerified = true
3. Create Role-Specific Profile:
   - Customer: Create Customer record with userId
   - Designer: Create Designer record with userId
   - Tailor: Create Tailor record with userId
4. Transaction Commit
5. If error: Transaction Rollback

5.6 LOGIN PROCESS - DATABASE OPERATIONS
---------------------------------------
When user logs in:

1. Query: User.findUnique({ where: { email }, include: { customer, designer, tailor } })
2. Verify password: bcrypt.compare(password, user.password)
3. Generate JWT tokens (no database write)
4. Set cookies (no database write)
5. Return user data with role-specific profile

================================================================================
6. SECURITY FEATURES
================================================================================

6.1 CSRF PROTECTION
-------------------
- All form submissions require CSRF token
- Token stored in HTTP-only cookie
- Token sent in x-csrf-token header
- Token validation on server-side
- Token refresh mechanism for expired tokens

6.2 RATE LIMITING
-----------------
- Signup: signupLimiter (prevents mass account creation)
- Login: loginLimiter (5 attempts per 15 minutes)
- Prevents brute force attacks
- Returns 429 status with Retry-After header

6.3 PASSWORD SECURITY
--------------------
- Minimum 8 characters
- Requires uppercase, lowercase, number, special character
- Bcrypt hashing (10 rounds)
- Password strength meter on frontend
- Common password rejection

6.4 INPUT VALIDATION & SANITIZATION
-----------------------------------
- Email validation (regex + validator library)
- Name validation (alphanumeric + spaces, max length)
- HTML sanitization (prevents XSS)
- SQL injection prevention (Prisma parameterized queries)
- Enum validation for role-specific fields

6.5 JWT TOKEN SECURITY
----------------------
- HTTP-only cookies (prevents XSS)
- Secure flag in production (HTTPS only)
- SameSite: 'lax' for access token, 'strict' for refresh token
- Token expiration: 7 days (access), 30 days (refresh)
- Token refresh mechanism

6.6 ROLE-BASED ACCESS CONTROL
------------------------------
- Middleware enforces role-based routing
- Users cannot access other role's dashboards
- Database queries filtered by user role
- API endpoints verify user role before processing

================================================================================
7. USER FLOWS
================================================================================

7.1 NEW USER FLOW (Landing → Signup → Login → Dashboard)
-----------------------------------------------------------
1. User visits landing page (/)
2. Clicks "Get Started" or "Sign up"
3. Navigates to /signup
4. Selects role (Customer/Designer/Tailor)
5. Fills multi-step signup form
6. Submits form → POST /api/auth/signup
7. Account created, redirected to /login
8. Enters email and password
9. Submits login → POST /api/auth/login
10. JWT tokens set in cookies
11. Redirected to role-based dashboard:
    - Customer → /customer
    - Designer → /designer
    - Tailor → /tailor

7.2 RETURNING USER FLOW (Landing → Login → Dashboard)
------------------------------------------------------
1. User visits landing page (/)
2. Clicks "Sign In"
3. Navigates to /login
4. If already authenticated → Middleware redirects to dashboard
5. Enters email and password
6. Submits login → POST /api/auth/login
7. JWT tokens set in cookies
8. Redirected to role-based dashboard

7.3 AUTHENTICATED USER FLOW (Dashboard → Landing)
-------------------------------------------------
1. User is on dashboard (e.g., /customer)
2. User logs out → POST /api/auth/logout
3. Cookies cleared
4. Redirected to /login
5. User can navigate to / (landing page)
6. Landing page shows "Sign In" and "Get Started" buttons

7.4 PROTECTED ROUTE ACCESS (Unauthenticated)
--------------------------------------------
1. User tries to access /customer/designers (not logged in)
2. Middleware detects no auth token
3. Redirects to /login?redirect=/customer/designers
4. User logs in
5. After login, could redirect to original route (future feature)
6. Currently redirects to dashboard root

================================================================================
8. STATE MANAGEMENT
================================================================================

8.1 CLIENT-SIDE STATE (Landing Page)
-------------------------------------
- isScrolled: Boolean (scroll position tracking)
- selectedLang: Object (current language)
- isLangOpen: Boolean (language dropdown)
- isMobileMenuOpen: Boolean (mobile menu)

8.2 AUTHENTICATION STATE
------------------------
- Stored in HTTP-only cookies (server-side)
- JWT token contains: userId, email, role, name
- No client-side storage of sensitive data
- Token verified on every protected route request

8.3 CSRF TOKEN STATE
--------------------
- Stored in HTTP-only cookie
- Fetched via GET /api/csrf-token
- Refreshed automatically when expired
- Sent in x-csrf-token header for POST requests

================================================================================
9. ERROR HANDLING
================================================================================

9.1 SIGNUP ERRORS
-----------------
- Email already exists: 400 Bad Request
- Validation errors: 400 Bad Request (field-specific)
- CSRF token invalid: 403 Forbidden
- Rate limit exceeded: 429 Too Many Requests
- Server error: 500 Internal Server Error

9.2 LOGIN ERRORS
----------------
- Invalid email format: 400 Bad Request
- Missing credentials: 400 Bad Request
- Invalid email/password: 401 Unauthorized
- CSRF token invalid: 403 Forbidden
- Rate limit exceeded: 429 Too Many Requests
- Server error: 500 Internal Server Error

9.3 MIDDLEWARE ERRORS
---------------------
- No token on protected route: Redirect to /login
- Invalid token: Redirect to /login
- Wrong role on protected route: Redirect to correct dashboard
- Token expired: Redirect to /login (refresh token not used in middleware)

================================================================================
10. PERFORMANCE OPTIMIZATIONS
================================================================================

10.1 LANDING PAGE
-----------------
- Client-side component (no SSR for dynamic content)
- Scroll event listener with cleanup
- Conditional rendering for mobile menu
- Lazy loading for images (future optimization)
- CSS animations with GPU acceleration

10.2 API ENDPOINTS
------------------
- Database connection pooling (Prisma)
- Indexed database queries (email, userId)
- Rate limiting prevents abuse
- Input validation before database queries
- Efficient error handling (no unnecessary queries)

10.3 MIDDLEWARE
---------------
- Early return for static assets
- Token verification only when token exists
- Cache headers prevent unnecessary re-validation
- Efficient route matching

================================================================================
11. INTEGRATION POINTS
================================================================================

11.1 LANDING PAGE → DASHBOARDS
------------------------------
- No direct data sharing
- Authentication via JWT cookies
- Role-based routing after login
- Middleware enforces access control

11.2 LANDING PAGE → PUBLIC APIs
--------------------------------
- /api/designers: Used by /designers page
- /api/tailors: Used by /tailors page
- No authentication required
- Rate limiting applied

11.3 LANDING PAGE → AUTH APIs
------------------------------
- /api/auth/signup: Creates account
- /api/auth/login: Creates session
- /api/csrf-token: Provides CSRF protection
- All require proper headers and validation

================================================================================
12. FUTURE ENHANCEMENTS (Not Currently Implemented)
================================================================================

12.1 REMEMBER ME FUNCTIONALITY
-------------------------------
- Checkbox on login form (UI exists, not functional)
- Would extend token expiration
- Would require database session storage

12.2 EMAIL VERIFICATION
-----------------------
- Currently disabled (isEmailVerified = true by default)
- Would require email service integration
- Would add verification token to User model

12.3 PASSWORD RESET
-------------------
- No password reset flow
- Would require:
  * Password reset token generation
  * Email service integration
  * Reset token expiration
  * Secure password update endpoint

12.4 SOCIAL LOGIN
----------------
- No OAuth integration
- Would require:
  * OAuth provider setup (Google, Facebook, etc.)
  * OAuth callback handling
  * Account linking

12.5 NEWSLETTER SIGNUP
---------------------
- Footer newsletter form (UI exists, not functional)
- Would require:
  * Email service integration
  * Newsletter subscription storage
  * Email marketing platform

================================================================================
13. TESTING CHECKLIST
================================================================================

13.1 LANDING PAGE
-----------------
- [ ] Navigation bar scroll behavior
- [ ] Language selector dropdown
- [ ] Mobile menu toggle
- [ ] All links navigate correctly
- [ ] Responsive design (mobile, tablet, desktop)
- [ ] Hero section animations
- [ ] Feature cards hover effects
- [ ] Designer spotlight cards
- [ ] CTA button functionality
- [ ] Footer links

13.2 AUTHENTICATION
-------------------
- [ ] Signup form validation
- [ ] Login form validation
- [ ] CSRF token handling
- [ ] Rate limiting behavior
- [ ] Error message display
- [ ] Success redirects
- [ ] Cookie setting
- [ ] Token expiration handling

13.3 MIDDLEWARE
---------------
- [ ] Protected route access (authenticated)
- [ ] Protected route access (unauthenticated)
- [ ] Auth route access (authenticated)
- [ ] Auth route access (unauthenticated)
- [ ] Role-based access control
- [ ] Redirect loop prevention

================================================================================
END OF DOCUMENTATION
================================================================================

